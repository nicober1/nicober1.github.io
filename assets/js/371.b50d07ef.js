/*! For license information please see 371.b50d07ef.js.LICENSE.txt */
(self.webpackChunkfluentblogs=self.webpackChunkfluentblogs||[]).push([[371],{34155:t=>{var e,i,s=t.exports={};function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(e===setTimeout)return setTimeout(t,0);if((e===n||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(i){try{return e.call(null,t,0)}catch(i){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:n}catch(t){e=n}try{i="function"==typeof clearTimeout?clearTimeout:r}catch(t){i=r}}();var a,h=[],l=!1,c=-1;function u(){l&&a&&(l=!1,a.length?h=a.concat(h):c=-1,h.length&&d())}function d(){if(!l){var t=o(u);l=!0;for(var e=h.length;e;){for(a=h,h=[];++c<e;)a&&a[c].run();c=-1,e=h.length}a=null,l=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===r||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{return i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function p(){}s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];h.push(new f(t,e)),1!==h.length||l||o(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=p,s.addListener=p,s.once=p,s.off=p,s.removeListener=p,s.removeAllListeners=p,s.emit=p,s.prependListener=p,s.prependOnceListener=p,s.listeners=function(t){return[]},s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},15861:(t,e,i)=>{"use strict";function s(t,e,i,s,n,r,o){try{var a=t[r](o),h=a.value}catch(l){return void i(l)}a.done?e(h):Promise.resolve(h).then(s,n)}function n(t){return function(){var e=this,i=arguments;return new Promise((function(n,r){var o=t.apply(e,i);function a(t){s(o,n,r,a,h,"next",t)}function h(t){s(o,n,r,a,h,"throw",t)}a(void 0)}))}}i.d(e,{Z:()=>n})},74165:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var s=i(71002);function n(){n=function(){return t};var t={},e=Object.prototype,i=e.hasOwnProperty,r=Object.defineProperty||function(t,e,i){t[e]=i.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",h=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(O){c=function(t,e,i){return t[e]=i}}function u(t,e,i,s){var n=e&&e.prototype instanceof p?e:p,o=Object.create(n.prototype),a=new b(s||[]);return r(o,"_invoke",{value:z(t,i,a)}),o}function d(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(O){return{type:"throw",arg:O}}}t.wrap=u;var f={};function p(){}function v(){}function g(){}var y={};c(y,a,(function(){return this}));var m=Object.getPrototypeOf,w=m&&m(m(_([])));w&&w!==e&&i.call(w,a)&&(y=w);var S=g.prototype=p.prototype=Object.create(y);function L(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function n(r,o,a,h){var l=d(t[r],t,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==(0,s.Z)(u)&&i.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,h)}),(function(t){n("throw",t,a,h)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,h)}))}h(l.arg)}var o;r(this,"_invoke",{value:function(t,i){function s(){return new e((function(e,s){n(t,i,e,s)}))}return o=o?o.then(s,s):s()}})}function z(t,e,i){var s="suspendedStart";return function(n,r){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===n)throw r;return A()}for(i.method=n,i.arg=r;;){var o=i.delegate;if(o){var a=T(o,i);if(a){if(a===f)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===s)throw s="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);s="executing";var h=d(t,e,i);if("normal"===h.type){if(s=i.done?"completed":"suspendedYield",h.arg===f)continue;return{value:h.arg,done:i.done}}"throw"===h.type&&(s="completed",i.method="throw",i.arg=h.arg)}}}function T(t,e){var i=e.method,s=t.iterator[i];if(void 0===s)return e.delegate=null,"throw"===i&&t.iterator.return&&(e.method="return",e.arg=void 0,T(t,e),"throw"===e.method)||"return"!==i&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+i+"' method")),f;var n=d(s,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var r=n.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function F(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function b(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(F,this),this.reset(!0)}function _(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var s=-1,n=function e(){for(;++s<t.length;)if(i.call(t,s))return e.value=t[s],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=g,r(S,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:v,configurable:!0}),v.displayName=c(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},t.awrap=function(t){return{__await:t}},L(x.prototype),c(x.prototype,h,(function(){return this})),t.AsyncIterator=x,t.async=function(e,i,s,n,r){void 0===r&&(r=Promise);var o=new x(u(e,i,s,n),r);return t.isGeneratorFunction(i)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},L(S),c(S,l,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),i=[];for(var s in e)i.push(s);return i.reverse(),function t(){for(;i.length;){var s=i.pop();if(s in e)return t.value=s,t.done=!1,t}return t.done=!0,t}},t.values=_,b.prototype={constructor:b,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function s(i,s){return o.type="throw",o.arg=t,e.next=i,s&&(e.method="next",e.arg=void 0),!!s}for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],o=r.completion;if("root"===r.tryLoc)return s("end");if(r.tryLoc<=this.prev){var a=i.call(r,"catchLoc"),h=i.call(r,"finallyLoc");if(a&&h){if(this.prev<r.catchLoc)return s(r.catchLoc,!0);if(this.prev<r.finallyLoc)return s(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return s(r.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return s(r.finallyLoc)}}}},abrupt:function(t,e){for(var s=this.tryEntries.length-1;s>=0;--s){var n=this.tryEntries[s];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,f):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),k(i),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var s=i.completion;if("throw"===s.type){var n=s.arg;k(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:_(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=void 0),f}},t}},73609:(t,e,i)=>{"use strict";i.d(e,{Z:()=>u});var s=i(34155);const n="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,r=new Set,o=(Symbol("type"),t=>t&&t===Math.floor(t)&&t>0&&isFinite(t)),a=t=>o(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?h:null:null;class h extends Array{constructor(t){super(t),this.fill(0)}}class l{heap;length;static#t=!1;static create(t){const e=a(t);if(!e)return[];l.#t=!0;const i=new l(t,e);return l.#t=!1,i}constructor(t,e){if(!l.#t)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class c{#e;#i;#s;#n;#r;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#o;#a;#h;#l;#c;#u;#d;#f;#p;#v;#g;#y;#m;#w;#S;#L;#x;static unsafeExposeInternals(t){return{starts:t.#m,ttls:t.#w,sizes:t.#y,keyMap:t.#h,keyList:t.#l,valList:t.#c,next:t.#u,prev:t.#d,get head(){return t.#f},get tail(){return t.#p},free:t.#v,isBackgroundFetch:e=>t.#z(e),backgroundFetch:(e,i,s,n)=>t.#T(e,i,s,n),moveToTail:e=>t.#F(e),indexes:e=>t.#k(e),rindexes:e=>t.#b(e),isStale:e=>t.#_(e)}}get max(){return this.#e}get maxSize(){return this.#i}get calculatedSize(){return this.#a}get size(){return this.#o}get fetchMethod(){return this.#r}get dispose(){return this.#s}get disposeAfter(){return this.#n}constructor(t){const{max:e=0,ttl:i,ttlResolution:n=1,ttlAutopurge:h,updateAgeOnGet:u,updateAgeOnHas:d,allowStale:f,dispose:p,disposeAfter:v,noDisposeOnSet:g,noUpdateTTL:y,maxSize:m=0,maxEntrySize:w=0,sizeCalculation:S,fetchMethod:L,noDeleteOnFetchRejection:x,noDeleteOnStaleGet:z,allowStaleOnFetchRejection:T,allowStaleOnFetchAbort:F,ignoreFetchAbort:k}=t;if(0!==e&&!o(e))throw new TypeError("max option must be a nonnegative integer");const b=e?a(e):Array;if(!b)throw new Error("invalid max value: "+e);if(this.#e=e,this.#i=m,this.maxEntrySize=w||this.#i,this.sizeCalculation=S,this.sizeCalculation){if(!this.#i&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==L&&"function"!=typeof L)throw new TypeError("fetchMethod must be a function if specified");if(this.#r=L,this.#L=!!L,this.#h=new Map,this.#l=new Array(e).fill(void 0),this.#c=new Array(e).fill(void 0),this.#u=new b(e),this.#d=new b(e),this.#f=0,this.#p=0,this.#v=l.create(e),this.#o=0,this.#a=0,"function"==typeof p&&(this.#s=p),"function"==typeof v?(this.#n=v,this.#g=[]):(this.#n=void 0,this.#g=void 0),this.#S=!!this.#s,this.#x=!!this.#n,this.noDisposeOnSet=!!g,this.noUpdateTTL=!!y,this.noDeleteOnFetchRejection=!!x,this.allowStaleOnFetchRejection=!!T,this.allowStaleOnFetchAbort=!!F,this.ignoreFetchAbort=!!k,0!==this.maxEntrySize){if(0!==this.#i&&!o(this.#i))throw new TypeError("maxSize must be a positive integer if specified");if(!o(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#A()}if(this.allowStale=!!f,this.noDeleteOnStaleGet=!!z,this.updateAgeOnGet=!!u,this.updateAgeOnHas=!!d,this.ttlResolution=o(n)||0===n?n:1,this.ttlAutopurge=!!h,this.ttl=i||0,this.ttl){if(!o(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#O()}if(0===this.#e&&0===this.ttl&&0===this.#i)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#i){const t="LRU_CACHE_UNBOUNDED";if((t=>!r.has(t))(t)){r.add(t);((t,e,i,n)=>{"object"==typeof s&&s&&"function"==typeof s.emitWarning?s.emitWarning(t,e,i,n):console.error(`[${i}] ${e}: ${t}`)})("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",t,c)}}}getRemainingTTL(t){return this.#h.has(t)?1/0:0}#O(){const t=new h(this.#e),e=new h(this.#e);this.#w=t,this.#m=e,this.#E=(i,s,r=n.now())=>{if(e[i]=0!==s?r:0,t[i]=s,0!==s&&this.ttlAutopurge){const t=setTimeout((()=>{this.#_(i)&&this.delete(this.#l[i])}),s+1);t.unref&&t.unref()}},this.#D=i=>{e[i]=0!==t[i]?n.now():0},this.#M=(n,r)=>{if(t[r]){const o=t[r],a=e[r];n.ttl=o,n.start=a,n.now=i||s(),n.remainingTTL=n.now+o-a}};let i=0;const s=()=>{const t=n.now();if(this.ttlResolution>0){i=t;const e=setTimeout((()=>i=0),this.ttlResolution);e.unref&&e.unref()}return t};this.getRemainingTTL=n=>{const r=this.#h.get(n);return void 0===r?0:0===t[r]||0===e[r]?1/0:e[r]+t[r]-(i||s())},this.#_=n=>0!==t[n]&&0!==e[n]&&(i||s())-e[n]>t[n]}#D=()=>{};#M=()=>{};#E=()=>{};#_=()=>!1;#A(){const t=new h(this.#e);this.#a=0,this.#y=t,this.#j=e=>{this.#a-=t[e],t[e]=0},this.#C=(t,e,i,s)=>{if(this.#z(e))return 0;if(!o(i)){if(!s)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof s)throw new TypeError("sizeCalculation must be a function");if(i=s(e,t),!o(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return i},this.#W=(e,i,s)=>{if(t[e]=i,this.#i){const i=this.#i-t[e];for(;this.#a>i;)this.#G(!0)}this.#a+=t[e],s&&(s.entrySize=i,s.totalCalculatedSize=this.#a)}}#j=t=>{};#W=(t,e,i)=>{};#C=(t,e,i,s)=>{if(i||s)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#k({allowStale:t=this.allowStale}={}){if(this.#o)for(let e=this.#p;this.#B(e)&&(!t&&this.#_(e)||(yield e),e!==this.#f);)e=this.#d[e]}*#b({allowStale:t=this.allowStale}={}){if(this.#o)for(let e=this.#f;this.#B(e)&&(!t&&this.#_(e)||(yield e),e!==this.#p);)e=this.#u[e]}#B(t){return void 0!==t&&this.#h.get(this.#l[t])===t}*entries(){for(const t of this.#k())void 0===this.#c[t]||void 0===this.#l[t]||this.#z(this.#c[t])||(yield[this.#l[t],this.#c[t]])}*rentries(){for(const t of this.#b())void 0===this.#c[t]||void 0===this.#l[t]||this.#z(this.#c[t])||(yield[this.#l[t],this.#c[t]])}*keys(){for(const t of this.#k()){const e=this.#l[t];void 0===e||this.#z(this.#c[t])||(yield e)}}*rkeys(){for(const t of this.#b()){const e=this.#l[t];void 0===e||this.#z(this.#c[t])||(yield e)}}*values(){for(const t of this.#k()){void 0===this.#c[t]||this.#z(this.#c[t])||(yield this.#c[t])}}*rvalues(){for(const t of this.#b()){void 0===this.#c[t]||this.#z(this.#c[t])||(yield this.#c[t])}}[Symbol.iterator](){return this.entries()}find(t,e={}){for(const i of this.#k()){const s=this.#c[i],n=this.#z(s)?s.__staleWhileFetching:s;if(void 0!==n&&t(n,this.#l[i],this))return this.get(this.#l[i],e)}}forEach(t,e=this){for(const i of this.#k()){const s=this.#c[i],n=this.#z(s)?s.__staleWhileFetching:s;void 0!==n&&t.call(e,n,this.#l[i],this)}}rforEach(t,e=this){for(const i of this.#b()){const s=this.#c[i],n=this.#z(s)?s.__staleWhileFetching:s;void 0!==n&&t.call(e,n,this.#l[i],this)}}purgeStale(){let t=!1;for(const e of this.#b({allowStale:!0}))this.#_(e)&&(this.delete(this.#l[e]),t=!0);return t}dump(){const t=[];for(const e of this.#k({allowStale:!0})){const i=this.#l[e],s=this.#c[e],r=this.#z(s)?s.__staleWhileFetching:s;if(void 0===r||void 0===i)continue;const o={value:r};if(this.#w&&this.#m){o.ttl=this.#w[e];const t=n.now()-this.#m[e];o.start=Math.floor(Date.now()-t)}this.#y&&(o.size=this.#y[e]),t.unshift([i,o])}return t}load(t){this.clear();for(const[e,i]of t){if(i.start){const t=Date.now()-i.start;i.start=n.now()-t}this.set(e,i.value,i)}}set(t,e,i={}){const{ttl:s=this.ttl,start:n,noDisposeOnSet:r=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:a}=i;let{noUpdateTTL:h=this.noUpdateTTL}=i;const l=this.#C(t,e,i.size||0,o);if(this.maxEntrySize&&l>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.delete(t),this;let c=0===this.#o?void 0:this.#h.get(t);if(void 0===c)c=0===this.#o?this.#p:0!==this.#v.length?this.#v.pop():this.#o===this.#e?this.#G(!1):this.#o,this.#l[c]=t,this.#c[c]=e,this.#h.set(t,c),this.#u[this.#p]=c,this.#d[c]=this.#p,this.#p=c,this.#o++,this.#W(c,l,a),a&&(a.set="add"),h=!1;else{this.#F(c);const i=this.#c[c];if(e!==i){if(this.#L&&this.#z(i)?i.__abortController.abort(new Error("replaced")):r||(this.#S&&this.#s?.(i,t,"set"),this.#x&&this.#g?.push([i,t,"set"])),this.#j(c),this.#W(c,l,a),this.#c[c]=e,a){a.set="replace";const t=i&&this.#z(i)?i.__staleWhileFetching:i;void 0!==t&&(a.oldValue=t)}}else a&&(a.set="update")}if(0===s||this.#w||this.#O(),this.#w&&(h||this.#E(c,s,n),a&&this.#M(a,c)),!r&&this.#x&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#n?.(...e)}return this}pop(){try{for(;this.#o;){const t=this.#c[this.#f];if(this.#G(!0),this.#z(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(void 0!==t)return t}}finally{if(this.#x&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#n?.(...e)}}}#G(t){const e=this.#f,i=this.#l[e],s=this.#c[e];return this.#L&&this.#z(s)?s.__abortController.abort(new Error("evicted")):(this.#S||this.#x)&&(this.#S&&this.#s?.(s,i,"evict"),this.#x&&this.#g?.push([s,i,"evict"])),this.#j(e),t&&(this.#l[e]=void 0,this.#c[e]=void 0,this.#v.push(e)),1===this.#o?(this.#f=this.#p=0,this.#v.length=0):this.#f=this.#u[e],this.#h.delete(i),this.#o--,e}has(t,e={}){const{updateAgeOnHas:i=this.updateAgeOnHas,status:s}=e,n=this.#h.get(t);if(void 0!==n){const t=this.#c[n];if(this.#z(t)&&void 0===t.__staleWhileFetching)return!1;if(!this.#_(n))return i&&this.#D(n),s&&(s.has="hit",this.#M(s,n)),!0;s&&(s.has="stale",this.#M(s,n))}else s&&(s.has="miss");return!1}peek(t,e={}){const{allowStale:i=this.allowStale}=e,s=this.#h.get(t);if(void 0!==s&&(i||!this.#_(s))){const t=this.#c[s];return this.#z(t)?t.__staleWhileFetching:t}}#T(t,e,i,s){const n=void 0===e?void 0:this.#c[e];if(this.#z(n))return n;const r=new AbortController,{signal:o}=i;o?.addEventListener("abort",(()=>r.abort(o.reason)),{signal:r.signal});const a={signal:r.signal,options:i,context:s},h=(s,n=!1)=>{const{aborted:o}=r.signal,h=i.ignoreFetchAbort&&void 0!==s;if(i.status&&(o&&!n?(i.status.fetchAborted=!0,i.status.fetchError=r.signal.reason,h&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),o&&!h&&!n)return l(r.signal.reason);const u=c;return this.#c[e]===c&&(void 0===s?u.__staleWhileFetching?this.#c[e]=u.__staleWhileFetching:this.delete(t):(i.status&&(i.status.fetchUpdated=!0),this.set(t,s,a.options))),s},l=s=>{const{aborted:n}=r.signal,o=n&&i.allowStaleOnFetchAbort,a=o||i.allowStaleOnFetchRejection,h=a||i.noDeleteOnFetchRejection,l=c;if(this.#c[e]===c){!h||void 0===l.__staleWhileFetching?this.delete(t):o||(this.#c[e]=l.__staleWhileFetching)}if(a)return i.status&&void 0!==l.__staleWhileFetching&&(i.status.returnedStale=!0),l.__staleWhileFetching;if(l.__returned===l)throw s};i.status&&(i.status.fetchDispatched=!0);const c=new Promise(((e,s)=>{const o=this.#r?.(t,n,a);o&&o instanceof Promise&&o.then((t=>e(t)),s),r.signal.addEventListener("abort",(()=>{i.ignoreFetchAbort&&!i.allowStaleOnFetchAbort||(e(),i.allowStaleOnFetchAbort&&(e=t=>h(t,!0)))}))})).then(h,(t=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=t),l(t)))),u=Object.assign(c,{__abortController:r,__staleWhileFetching:n,__returned:void 0});return void 0===e?(this.set(t,u,{...a.options,status:void 0}),e=this.#h.get(t)):this.#c[e]=u,u}#z(t){if(!this.#L)return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof AbortController}async fetch(t,e={}){const{allowStale:i=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,ttl:r=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:h=this.sizeCalculation,noUpdateTTL:l=this.noUpdateTTL,noDeleteOnFetchRejection:c=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:u=this.allowStaleOnFetchRejection,ignoreFetchAbort:d=this.ignoreFetchAbort,allowStaleOnFetchAbort:f=this.allowStaleOnFetchAbort,context:p,forceRefresh:v=!1,status:g,signal:y}=e;if(!this.#L)return g&&(g.fetch="get"),this.get(t,{allowStale:i,updateAgeOnGet:s,noDeleteOnStaleGet:n,status:g});const m={allowStale:i,updateAgeOnGet:s,noDeleteOnStaleGet:n,ttl:r,noDisposeOnSet:o,size:a,sizeCalculation:h,noUpdateTTL:l,noDeleteOnFetchRejection:c,allowStaleOnFetchRejection:u,allowStaleOnFetchAbort:f,ignoreFetchAbort:d,status:g,signal:y};let w=this.#h.get(t);if(void 0===w){g&&(g.fetch="miss");const e=this.#T(t,w,m,p);return e.__returned=e}{const e=this.#c[w];if(this.#z(e)){const t=i&&void 0!==e.__staleWhileFetching;return g&&(g.fetch="inflight",t&&(g.returnedStale=!0)),t?e.__staleWhileFetching:e.__returned=e}const n=this.#_(w);if(!v&&!n)return g&&(g.fetch="hit"),this.#F(w),s&&this.#D(w),g&&this.#M(g,w),e;const r=this.#T(t,w,m,p),o=void 0!==r.__staleWhileFetching&&i;return g&&(g.fetch=n?"stale":"refresh",o&&n&&(g.returnedStale=!0)),o?r.__staleWhileFetching:r.__returned=r}}get(t,e={}){const{allowStale:i=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,status:r}=e,o=this.#h.get(t);if(void 0!==o){const e=this.#c[o],a=this.#z(e);return r&&this.#M(r,o),this.#_(o)?(r&&(r.get="stale"),a?(r&&i&&void 0!==e.__staleWhileFetching&&(r.returnedStale=!0),i?e.__staleWhileFetching:void 0):(n||this.delete(t),r&&i&&(r.returnedStale=!0),i?e:void 0)):(r&&(r.get="hit"),a?e.__staleWhileFetching:(this.#F(o),s&&this.#D(o),e))}r&&(r.get="miss")}#I(t,e){this.#d[e]=t,this.#u[t]=e}#F(t){t!==this.#p&&(t===this.#f?this.#f=this.#u[t]:this.#I(this.#d[t],this.#u[t]),this.#I(this.#p,t),this.#p=t)}delete(t){let e=!1;if(0!==this.#o){const i=this.#h.get(t);if(void 0!==i)if(e=!0,1===this.#o)this.clear();else{this.#j(i);const e=this.#c[i];this.#z(e)?e.__abortController.abort(new Error("deleted")):(this.#S||this.#x)&&(this.#S&&this.#s?.(e,t,"delete"),this.#x&&this.#g?.push([e,t,"delete"])),this.#h.delete(t),this.#l[i]=void 0,this.#c[i]=void 0,i===this.#p?this.#p=this.#d[i]:i===this.#f?this.#f=this.#u[i]:(this.#u[this.#d[i]]=this.#u[i],this.#d[this.#u[i]]=this.#d[i]),this.#o--,this.#v.push(i)}}if(this.#x&&this.#g?.length){const t=this.#g;let e;for(;e=t?.shift();)this.#n?.(...e)}return e}clear(){for(const t of this.#b({allowStale:!0})){const e=this.#c[t];if(this.#z(e))e.__abortController.abort(new Error("deleted"));else{const i=this.#l[t];this.#S&&this.#s?.(e,i,"delete"),this.#x&&this.#g?.push([e,i,"delete"])}}if(this.#h.clear(),this.#c.fill(void 0),this.#l.fill(void 0),this.#w&&this.#m&&(this.#w.fill(0),this.#m.fill(0)),this.#y&&this.#y.fill(0),this.#f=0,this.#p=0,this.#v.length=0,this.#a=0,this.#o=0,this.#x&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#n?.(...e)}}}const u=c}}]);